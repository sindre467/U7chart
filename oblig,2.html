<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
  </style>
</head>

<body>
  <div id="content"></div>

  <script>
     var contentDiv = document.getElementById('content');
    show();
    function show() {
      let svgInnerHtml = "";
      for (let i = 0; i < numbers.length; i++) {
        svgInnerHtml += createBar(numbers[i], i + 1);
      }
       
      contentDiv.innerHTML = `
           <svg id="chart" width="590" viewBox="0 0 60 60"> ${svgInnerHtml}
            </svg><br/>
             Valgt stolpe: <i>${chosenBar != null ? chosenBar : "ingen"}</i>
              <div id="errormsg " style="color: red; font-size: 18px">${error}</div><br/>  
 
             Verdi: <input type="number" min="1" max="10" 
             oninput="inputValue = parseInt(this.value)" />
            
             <button onclick="addBar()">Legg til stolpe</button>
             <button ${chosenBar != null ? "" : "disabled"} 
             onclick="changeBar()">Edit</button>

             <br/>
             <button ${chosenBar != null ? "" : "disabled"} 
             onclick="removeBar()">remove</button> 
             `;
       
    }

     function createBar(number, barNo) {
      const width = 7;
      const spacing = 2;
      let x = (barNo - 1) * (width + spacing);
      let height = number * 10;
      let y = 60 - height;
      let color = calcColor(1, 9, barNo);
      let stroke = chosenBar === barNo ? 'stroke: grey' : "";
      return `<rect width="${width}" height="${height}"
      x="${x}" y="${y}" fill="${color}"style="${stroke}"
      onclick="selectedBar(${barNo})"></rect>`;

    }
    function calcColor(min, max, val) {
        var minHue = 240, maxHue = 0;
        var curPercent = (val - min) / (max - min);
        var colString = "hsl(" + ((curPercent * (maxHue - minHue)) + minHue) + ",100%,50%)";
        return colString;

    }
  </script>
  <script src="controller.js"></script>
</body>

</html>